{"ast":null,"code":"import _objectSpread from \"/Users/aundrekerr/Projects/React2019/cp24/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nvar _jsxFileName = \"/Users/aundrekerr/Projects/React2019/cp24/src/components/News.js\";\nimport React from 'react';\nimport Newsfeed from './news/Newsfeed.js';\nimport { fetchNewsFeed } from '../utils/api';\nimport '../styles/components/news/_newsfeed.scss';\n/**\n * Component responsible for rendering the newsfeed.\n */\n\nexport default class News extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      activeTab: 'local',\n      newsfeeds: {\n        'local': null,\n        'world': null,\n        'entertainment': null,\n        'sports': null,\n        'lifestyle': null\n      }\n    };\n\n    this.newActiveTab = tab => {\n      this.setState({\n        activeTab: tab\n      });\n      console.log(this.state.newsfeeds); // fetchNewsFeed(this.state.activeTab)\n      // \t.then((data) => {\n      // \t\tthis.setState(prevState => ({\n      // \t\t\tactiveTab: [this.state.activeTab],\n      // \t\t\tnewsfeeds: {\n      // \t\t\t\t...prevState.newsfeeds,\n      // \t\t\t\t[this.state.activeTab]: data\n      // \t\t\t}\n      // \t\t}))\n      // \t});\n    };\n  }\n\n  componentDidMount() {\n    fetchNewsFeed(this.state.activeTab).then(data => {\n      this.setState(prevState => ({\n        activeTab: this.state.activeTab,\n        newsfeeds: _objectSpread({}, prevState.newsfeeds, {\n          [this.state.activeTab]: data\n        })\n      }));\n    });\n  }\n\n  componentDidUpdate() {}\n\n  render() {\n    const _this$state = this.state,\n          activeTab = _this$state.activeTab,\n          newsfeeds = _this$state.newsfeeds,\n          newActiveTab = _this$state.newActiveTab;\n    return React.createElement(\"div\", {\n      className: \"news__wrapper\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65\n      },\n      __self: this\n    }, React.createElement(\"nav\", {\n      className: \"news-tabs__wrapper\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66\n      },\n      __self: this\n    }, React.createElement(\"h5\", {\n      className: \"title-block light\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    }, \"Latest News\")), React.createElement(\"ul\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      },\n      __self: this\n    }, Object.keys(newsfeeds).map((tab, index) => React.createElement(\"li\", {\n      key: index,\n      className: tab.name === this.state.activeTab ? \"clickable active\" : \"clickable\",\n      onClick: () => this.newActiveTab(tab),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    }, tab.charAt(0).toUpperCase() + tab.slice(1)))))), newsfeeds[activeTab] === null ? React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    }, \"loading newsfeed\") : React.createElement(Newsfeed, {\n      newsfeed: newsfeeds[activeTab],\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }));\n  }\n\n}","map":{"version":3,"sources":["/Users/aundrekerr/Projects/React2019/cp24/src/components/News.js"],"names":["React","Newsfeed","fetchNewsFeed","News","Component","state","activeTab","newsfeeds","newActiveTab","tab","setState","console","log","componentDidMount","then","data","prevState","componentDidUpdate","render","Object","keys","map","index","name","charAt","toUpperCase","slice"],"mappings":";;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,QAAP,MAAqB,oBAArB;AAEA,SAASC,aAAT,QAA8B,cAA9B;AAEA,OAAO,0CAAP;AAGA;;;;AAGA,eAAe,MAAMC,IAAN,SAAmBH,KAAK,CAACI,SAAzB,CAAmC;AAAA;AAAA;AAAA,SAEjDC,KAFiD,GAEzC;AACPC,MAAAA,SAAS,EAAE,OADJ;AAEPC,MAAAA,SAAS,EAAE;AACV,iBAAS,IADC;AAEV,iBAAS,IAFC;AAGV,yBAAiB,IAHP;AAIV,kBAAU,IAJA;AAKV,qBAAa;AALH;AAFJ,KAFyC;;AAAA,SA8BjDC,YA9BiD,GA8BjCC,GAAD,IAAS;AACvB,WAAKC,QAAL,CAAc;AACbJ,QAAAA,SAAS,EAAEG;AADE,OAAd;AAIAE,MAAAA,OAAO,CAACC,GAAR,CAAY,KAAKP,KAAL,CAAWE,SAAvB,EALuB,CAOvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KA/CgD;AAAA;;AAajDM,EAAAA,iBAAiB,GAAG;AACnBX,IAAAA,aAAa,CAAC,KAAKG,KAAL,CAAWC,SAAZ,CAAb,CACEQ,IADF,CACQC,IAAD,IAAU;AACf,WAAKL,QAAL,CAAcM,SAAS,KAAK;AAC3BV,QAAAA,SAAS,EAAE,KAAKD,KAAL,CAAWC,SADK;AAE3BC,QAAAA,SAAS,oBACLS,SAAS,CAACT,SADL;AAER,WAAC,KAAKF,KAAL,CAAWC,SAAZ,GAAwBS;AAFhB;AAFkB,OAAL,CAAvB;AAOA,KATF;AAUA;;AAEDE,EAAAA,kBAAkB,GAAG,CAEpB;;AAqBDC,EAAAA,MAAM,GAAG;AAAA,wBACuC,KAAKb,KAD5C;AAAA,UACAC,SADA,eACAA,SADA;AAAA,UACWC,SADX,eACWA,SADX;AAAA,UACsBC,YADtB,eACsBA,YADtB;AAGR,WACC;AAAK,MAAA,SAAS,EAAC,eAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACC;AAAK,MAAA,SAAS,EAAC,oBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACC;AAAI,MAAA,SAAS,EAAC,mBAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAkC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAAlC,CADD,EAEC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAEGW,MAAM,CAACC,IAAP,CAAYb,SAAZ,CAAD,CAAyBc,GAAzB,CAA6B,CAACZ,GAAD,EAAMa,KAAN,KAC5B;AAAI,MAAA,GAAG,EAAEA,KAAT;AACC,MAAA,SAAS,EACRb,GAAG,CAACc,IAAJ,KAAa,KAAKlB,KAAL,CAAWC,SAAxB,GACG,kBADH,GAEG,WAJL;AAMC,MAAA,OAAO,EAAE,MAAM,KAAKE,YAAL,CAAkBC,GAAlB,CANhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAQC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAOA,GAAG,CAACe,MAAJ,CAAW,CAAX,EAAcC,WAAd,KAA8BhB,GAAG,CAACiB,KAAJ,CAAU,CAAV,CAArC,CARD,CADD,CAFF,CAFD,CADD,EAqBEnB,SAAS,CAACD,SAAD,CAAT,KAAyB,IAAzB,GACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BADF,GAEE,oBAAC,QAAD;AAAU,MAAA,QAAQ,EAAEC,SAAS,CAACD,SAAD,CAA7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAvBJ,CADD;AA4BA;;AAhFgD","sourcesContent":["import React from 'react';\nimport Newsfeed from './news/Newsfeed.js';\n\nimport { fetchNewsFeed } from '../utils/api';\n\nimport '../styles/components/news/_newsfeed.scss';\n\n\n/**\n * Component responsible for rendering the newsfeed.\n */\nexport default class News extends React.Component {\n\n\tstate = {\n\t\tactiveTab: 'local',\n\t\tnewsfeeds: {\n\t\t\t'local': null,\n\t\t\t'world': null,\n\t\t\t'entertainment': null,\n\t\t\t'sports': null,\n\t\t\t'lifestyle': null\n\t\t}\n\t}\n\n\tcomponentDidMount() {\n\t\tfetchNewsFeed(this.state.activeTab)\n\t\t\t.then((data) => {\n\t\t\t\tthis.setState(prevState => ({\n\t\t\t\t\tactiveTab: this.state.activeTab,\n\t\t\t\t\tnewsfeeds: {\n\t\t\t\t\t\t...prevState.newsfeeds,\n\t\t\t\t\t\t[this.state.activeTab]: data\n\t\t\t\t\t}\n\t\t\t\t}))\n\t\t\t});\n\t}\n\n\tcomponentDidUpdate() {\n\n\t}\n\n\tnewActiveTab = (tab) => {\n\t\tthis.setState({\n\t\t\tactiveTab: tab\n\t\t})\n\n\t\tconsole.log(this.state.newsfeeds)\n\n\t\t// fetchNewsFeed(this.state.activeTab)\n\t\t// \t.then((data) => {\n\t\t// \t\tthis.setState(prevState => ({\n\t\t// \t\t\tactiveTab: [this.state.activeTab],\n\t\t// \t\t\tnewsfeeds: {\n\t\t// \t\t\t\t...prevState.newsfeeds,\n\t\t// \t\t\t\t[this.state.activeTab]: data\n\t\t// \t\t\t}\n\t\t// \t\t}))\n\t\t// \t});\n\t}\n\n\trender() {\n\t\tconst { activeTab, newsfeeds, newActiveTab } = this.state;\n\n\t\treturn(\n\t\t\t<div className=\"news__wrapper\">\n\t\t\t\t<nav className=\"news-tabs__wrapper\">\n\t\t\t\t\t<h5 className='title-block light'><span>Latest News</span></h5>\n\t\t\t\t\t<ul>\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t(Object.keys(newsfeeds)).map((tab, index) => (\n\t\t\t\t\t\t\t\t<li key={index} \n\t\t\t\t\t\t\t\t\tclassName={\n\t\t\t\t\t\t\t\t\t\ttab.name === this.state.activeTab\n\t\t\t\t\t\t\t\t\t\t\t? \"clickable active\"\n\t\t\t\t\t\t\t\t\t\t\t: \"clickable\"\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tonClick={() => this.newActiveTab(tab)}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<span>{tab.charAt(0).toUpperCase() + tab.slice(1)}</span>\n\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t))\n\t\t\t\t\t\t}\n\t\t\t\t\t</ul>\n\t\t\t\t</nav>\n\t\t\t\t{\t\n\t\t\t\t\tnewsfeeds[activeTab] === null \n\t\t\t\t\t? <p>loading newsfeed</p> \n\t\t\t\t\t: <Newsfeed newsfeed={newsfeeds[activeTab]} />\n\t\t\t\t}\n\t\t\t</div>\n\t\t)\n\t}\n}"]},"metadata":{},"sourceType":"module"}